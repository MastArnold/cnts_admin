<div class="px-16 py-8 bg-gray-50">
    <div class="flex justify-between items-end py-6">
        <div class="flex flex-col gap-2">
            <h1 class="text-3xl text-gray-950 font-bold font-sans">Nouveau Donneur</h1>
        </div>        
        <div>
            <button (click)="resume()"
                    class="bg-red-900 text-gray-50 text-sm font-bold font-sans px-4 py-2 rounded-lg pointer disabled:opacity-50" 
                    [disabled]="form.invalid">
                Aperçu
            </button>
        </div>
    </div>

    <div [ngClass]="{'hidden': !loading()}" class="px-12 py-8 bg-white mt-2 rounded-lg">
        <div class="w-full flex justify-between items-center gap-24 animate-pulse">
            <div class="w-1/2 h-8 rounded-lg bg-gray-300"></div>
            <div class="w-1/2 flex flex-col gap-6">
                <div class="w-full h-16 rounded-lg bg-gray-300"></div>
                <div class="w-full h-16 rounded-lg bg-gray-300"></div>
                <div class="w-full h-16 rounded-lg bg-gray-300"></div>
                <div class="w-full h-16 rounded-lg bg-gray-300"></div>
            </div>
        </div>
    </div>

    <form [formGroup]="form" [ngClass]="{'hidden': loading()}" class="px-12 py-8 bg-white space-y-12 rounded-lg">
        <!--Information personnelles-->
        <div class="">
            <div class="side-form">
                <div class="side-title">
                    <label for="" class="">Informations personnelles</label>
                </div>
                <div class="side-container">
                    <div class="side-group">
                        <label for="fullname" class="side-group-label">Nom et prénom</label>
                        <div class="side-group-input">
                            <svg class="ico" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M19 20C15 20 6.6 20 5 20C3.4 20 3 18.6667 3 18V6C3 4.89543 3.89543 4 5 4H15C16.1046 4 17 4.89506 17 5.99963C17 7.81578 17 9.98993 17 12M19 20C18.3333 20 17 19.6 17 18C17 17.2095 17 14.7594 17 12M19 20C20.6 20 21 18.6667 21 18V12H17" class="stroke-gray-700" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path><path d="M7 16H13M12 10C12 11.1046 11.1046 12 10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10Z" class="stroke-gray-700" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></g></svg>
                            <input type="text" formControlName="fullname" id="fullname" placeholder="" class="uppercase">
                        </div>
                    </div>
                    <div class="side-group">
                        <label for="gender" class="side-group-label">Sexe</label>
                        <div class="relative side-group-input">
                            <svg class="ico fill-gray-700" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path class="fill-gray-700" d="M474.234,284.88c23.29-23.268,37.781-55.654,37.766-91.185c0.015-35.53-14.476-67.917-37.766-91.178 c-23.261-23.298-55.64-37.788-91.185-37.766c-35.53-0.022-67.924,14.469-91.17,37.766c-23.304,23.261-37.795,55.648-37.78,91.178 c-0.015,35.53,14.476,67.916,37.78,91.185c19.268,19.297,44.809,32.517,73.21,36.488v52.976h-58.486v35.944h58.486v56.766h35.937 v-56.766h58.486v-35.944h-58.486v-52.976C429.426,317.397,454.966,304.177,474.234,284.88z M383.049,275.921 c-11.413-0.008-22.172-2.301-32.002-6.454c-14.724-6.222-27.327-16.684-36.198-29.817c-8.857-13.147-14.012-28.844-14.012-45.955 c0-11.42,2.294-22.172,6.447-31.994c6.214-14.731,16.669-27.326,29.81-36.198c13.155-8.864,28.85-14.019,45.955-14.034 c11.413,0.008,22.172,2.302,32.002,6.462c14.724,6.214,27.327,16.676,36.198,29.809c8.857,13.156,14.012,28.851,14.026,45.956 c-0.014,11.42-2.308,22.172-6.461,31.995c-6.214,14.73-16.683,27.333-29.81,36.198 C415.849,270.759,400.168,275.907,383.049,275.921z"></path> <path class="fill-gray-700" d="M146.912,202.305v-88.55l35.69,35.683l25.424-25.41l-79.075-79.082l-79.09,79.082l25.41,25.41l35.704-35.69 v88.557c-28.401,3.978-53.941,17.199-73.209,36.502C14.462,262.069-0.014,294.448,0,329.979 c-0.014,35.545,14.462,67.924,37.766,91.184c23.261,23.305,55.64,37.788,91.185,37.774c35.53,0.014,67.91-14.469,91.17-37.774 c23.304-23.261,37.78-55.64,37.78-91.184c0-35.53-14.476-67.91-37.78-91.171C200.854,219.505,175.313,206.283,146.912,202.305z M204.716,361.981c-6.229,14.73-16.683,27.326-29.81,36.198c-13.154,8.872-28.85,14.027-45.955,14.027 c-11.427,0-22.172-2.294-32.002-6.447c-14.723-6.229-27.327-16.684-36.198-29.817c-8.872-13.155-14.026-28.844-14.026-45.962 c0-11.412,2.294-22.164,6.446-31.987c6.229-14.723,16.684-27.326,29.824-36.198c13.14-8.864,28.836-14.011,45.955-14.026 c11.413,0,22.157,2.294,32.002,6.454c14.709,6.222,27.312,16.676,36.184,29.809c8.871,13.156,14.026,28.844,14.026,45.948 C211.163,341.405,208.868,352.165,204.716,361.981z"></path> </g> </g></svg>
                            <select formControlName="gender" id="gender" class="">
                                <option value="">Choisir un sexe</option>
                                <option value="f">Femme</option>
                                <option value="m">Homme</option>
                            </select>
                            <div class="hidden absolute inset-0"></div>
                        </div>
                    </div>
                    <div class="side-group">
                        <label for="birthdate" class="side-group-label">Date de naissance</label>
                        <div class="side-group-input">
                            <svg class="ico" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <rect x="3" y="6" width="18" height="15" rx="2" class="stroke-gray-700"></rect> <path d="M3 10C3 8.11438 3 7.17157 3.58579 6.58579C4.17157 6 5.11438 6 7 6H17C18.8856 6 19.8284 6 20.4142 6.58579C21 7.17157 21 8.11438 21 10H3Z" class="fill-gray-700"></path> <path d="M7 3L7 6" class="stroke-gray-700" stroke-linecap="round"></path> <path d="M17 3L17 6" class="stroke-gray-700" stroke-linecap="round"></path> <rect x="7" y="12" width="4" height="2" rx="0.5" class="fill-gray-700"></rect> <rect x="7" y="16" width="4" height="2" rx="0.5" class="fill-gray-700"></rect> <rect x="13" y="12" width="4" height="2" rx="0.5" class="fill-gray-700"></rect> <rect x="13" y="16" width="4" height="2" rx="0.5" class="fill-gray-700"></rect> </g></svg>
                            <input type="date" formControlName="birthdate" id="birthdate" class="">
                        </div>
                    </div>
                    <div class="side-group">
                        <label for="birthplace" class="side-group-label">Lieu de naissance</label>
                        <div class="relative side-group-input">
                            <svg class="ico fill-gray-700" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></g></svg>
                            <input type="text" (keyup)="addressBPInput()" formControlName="birthplace" id="birthplace" placeholder="" class="capitalize">
                            
                            @if(addressesBP().length > 0){
                            <div class="absolute z-10 top-full inset-x-0 max-h-64 overflow-y-auto border bg-white">
                                <ul class="flex flex-col bg-white p-1">
                                    @for(address of addressesBP(); track address.province){
                                        @for(localite of address.localites; track localite.nom){
                                            <li class="px-2 py-3 bg-white hover:bg-gray-100 pointer text-xs font-medium text-gray-800 font-sans capitalize" (click)="pickAddressBP(localite.nom + ', ' + address.province)">
                                                {{localite.nom.toLowerCase()}}, {{address.province.toLowerCase()}}, BF
                                            </li>
                                        }
                                    }
                                </ul>
                            </div>
                            }
                        </div>
                    </div>
                    <div class="side-group">
                        <label for="civilQuality" class="side-group-label">Qualité Civile</label>
                        <div class="side-group-input relative">
                            <svg class="ico fill-gray-700" viewBox="0 0 15 15" version="1.1" id="town-hall" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M13,4H9l0-3L7.5,0L6,1v3H2L1,5v1h13V5L13,4z M7.5,1.5c0.4,0,0.7,0.3,0.7,0.8S7.9,3,7.5,3S6.7,2.7,6.7,2.2 C6.7,1.8,7.1,1.5,7.5,1.5z M13,7H2v4l-1,1.5V14h13v-1.5L13,11V7z M5,12.5H4V8h1V12.5z M8,12.5H7V8h1V12.5z M11,12.5h-1V8h1V12.5z"></path> </g></svg>
                            <select formControlName="civilQuality" id="civilQuality" class="uppercase">
                                <option value="">-</option>
                                @for(qualite of civilQualities; track qualite){
                                    <option value="{{ qualite }}">{{qualite.toUpperCase()}}</option>
                                }
                            </select>
                            <div class="hidden absolute inset-0"></div>
                        </div>
                    </div>
                    <div class="side-group">
                        <label for="marital" class="side-group-label">Statut marital</label>
                        <div class="side-group-input">
                            <svg class="ico fill-gray-700" viewBox="0 0 512 512" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g id="couple-marriage-heart-love-valentine"> <path d="M200,328h-16v-28.313c3.77-3.396,6.931-7.348,9.441-11.688H200c13.234,0,24-10.766,24-24c0-10.496-6.562-19.19-16-22.542 V216c0-26.51-21.49-48-48-48h-16c-26.51,0-48,21.49-48,48v25.474c-9.292,3.313-16,12.11-16,22.526c0,13.508,10.997,24,24,24h6.557 c2.51,4.342,5.673,8.294,9.443,11.685V328h-16c-17.68,0-32,14.32-32,32v64c0,8.8,7.2,16,16,16h16v-32c0-4.4,3.6-8,8-8s8,3.6,8,8v32 h64v-32c0-4.4,3.6-8,8-8s8,3.6,8,8v32h16c8.8,0,16-7.2,16-16v-64C232,342.32,217.68,328,200,328z M120,264v-16 c0-16.234,12.148-29.684,27.945-31.75c3.352,7.375,8.742,13.766,15.578,18.379c5.969,4.035,12.75,6.469,19.875,7.184 C183.805,243.82,184,245.871,184,248v16c0,10-4.789,19.574-12.836,25.629C151.048,304.895,120,291.063,120,264z M167.651,309.386 c0.113-0.039,0.236-0.05,0.349-0.089v16.965c-6.635,12.98-25.375,12.961-32,0v-16.965c0.116,0.041,0.243,0.052,0.36,0.092 C146.986,313.038,158.448,312.547,167.651,309.386z M200,272h-0.763c0.995-5.794,0.763-9.542,0.763-16 C210.527,256,210.571,272,200,272z M104,272c-10.527,0-10.571-16,0-16c0,6.474-0.233,10.197,0.763,16H104z M408,328h-16v-28.313 c1.293-1.165,2.509-2.397,3.661-3.688H416c8.836,0,16-7.164,16-16v-40c0-39.765-32.235-72-72-72s-72,32.235-72,72v40 c0,8.836,7.164,16,16,16h20.338c1.152,1.29,2.368,2.521,3.662,3.685V328h-16c-17.68,0-32,14.32-32,32v64c0,8.8,7.2,16,16,16h16v-32 c0-4.4,3.6-8,8-8s8,3.6,8,8v32h64v-32c0-4.4,3.6-8,8-8s8,3.6,8,8v32h16c8.8,0,16-7.2,16-16v-64C440,342.32,425.68,328,408,328z M349.914,294.318C336.731,290.079,328,277.506,328,264v-16c0-16.234,12.148-29.684,27.945-31.75 c3.352,7.375,8.742,13.766,15.578,18.379c5.969,4.035,12.75,6.469,19.875,7.184C391.805,243.82,392,245.871,392,248v16 c0,10-4.789,19.574-12.836,25.629C370.926,295.881,359.664,297.444,349.914,294.318z M344,309.297 c0.116,0.041,0.243,0.052,0.36,0.092c9.163,3.147,20.73,3.624,31.292-0.003c0.113-0.039,0.236-0.05,0.349-0.089v16.371 c-2.859,4.609-9.727,16.363-16,32.313c-6.273-15.949-13.141-27.703-16-32.313V309.297z M302.081,129.596l-32.5,32.855 c-7.318,7.398-19.204,7.398-26.522,0l-32.5-32.855c-11.85-11.979-13.889-31.229-3.614-44.605 c12.415-16.161,35.529-17.243,49.375-3.245c13.847-13.998,36.961-12.917,49.376,3.245 C315.97,98.366,313.93,117.617,302.081,129.596z"></path> </g> <g id="Layer_1"></g> </g></svg>
                            <input type="text" formControlName="marital" id="marital" placeholder="" class="">
                        </div>
                    </div>
                    <div class="side-group">
                        <label for="nin" class="side-group-label">Numéro de CNIB</label>
                        <div class="side-group-input">
                            <svg class="ico" viewBox="0 -0.5 25 25" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M3.5 7V17C3.5 18.1046 4.39543 19 5.5 19H19.5C20.6046 19 21.5 18.1046 21.5 17V7C21.5 5.89543 20.6046 5 19.5 5H5.5C4.39543 5 3.5 5.89543 3.5 7Z" class="stroke-gray-700" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M15.5 10H18.5" class="stroke-gray-700" stroke-width="1.5" stroke-linecap="round"></path> <path d="M15.5 13H18.5" class="stroke-gray-700" stroke-width="1.5" stroke-linecap="round"></path> <path fill-rule="evenodd" clip-rule="evenodd" d="M11.5 10C11.5 11.1046 10.6046 12 9.5 12C8.39543 12 7.5 11.1046 7.5 10C7.5 8.89543 8.39543 8 9.5 8C10.0304 8 10.5391 8.21071 10.9142 8.58579C11.2893 8.96086 11.5 9.46957 11.5 10Z" class="stroke-gray-700" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M5.5 16C8.283 12.863 11.552 13.849 13.5 16" class="stroke-gray-700" stroke-width="1.5" stroke-linecap="round"></path> </g></svg>
                            <input type="text" formControlName="nin" id="nin" placeholder="" class="uppercase">
                        </div>
                    </div>
                    <div class="side-group">
                        <label for="license" class="side-group-label">Numéro de permis de conduire</label>
                        <div class="side-group-input">
                            <svg class="ico" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8 17H16M8 17C8 18.1046 7.10457 19 6 19C4.89543 19 4 18.1046 4 17M8 17C8 15.8954 7.10457 15 6 15C4.89543 15 4 15.8954 4 17M16 17C16 18.1046 16.8954 19 18 19C19.1046 19 20 18.1046 20 17M16 17C16 15.8954 16.8954 15 18 15C19.1046 15 20 15.8954 20 17M10 5V11M4 11L4.33152 9.01088C4.56901 7.58593 4.68776 6.87345 5.0433 6.3388C5.35671 5.8675 5.79705 5.49447 6.31346 5.26281C6.8993 5 7.6216 5 9.06621 5H12.4311C13.3703 5 13.8399 5 14.2662 5.12945C14.6436 5.24406 14.9946 5.43194 15.2993 5.68236C15.6435 5.96523 15.904 6.35597 16.425 7.13744L19 11M4 17H3.6C3.03995 17 2.75992 17 2.54601 16.891C2.35785 16.7951 2.20487 16.6422 2.10899 16.454C2 16.2401 2 15.9601 2 15.4V14.2C2 13.0799 2 12.5198 2.21799 12.092C2.40973 11.7157 2.71569 11.4097 3.09202 11.218C3.51984 11 4.0799 11 5.2 11H17.2C17.9432 11 18.3148 11 18.6257 11.0492C20.3373 11.3203 21.6797 12.6627 21.9508 14.3743C22 14.6852 22 15.0568 22 15.8C22 15.9858 22 16.0787 21.9877 16.1564C21.9199 16.5843 21.5843 16.9199 21.1564 16.9877C21.0787 17 20.9858 17 20.8 17H20" class="stroke-gray-700" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
                            <input type="text" formControlName="license" id="license" placeholder="" class="uppercase">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--Contact-->
        <div class="">
            <div class="side-form">
                <div class="side-title">
                    <label for="phone" class="">Contact</label>
                </div>
                <div class="side-container">
                    <div class="side-group">
                        <label for="phone" class="side-group-label">Téléphone</label>
                        <div class="side-group-input">
                            <svg class="ico" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M16.5562 12.9062L16.1007 13.359C16.1007 13.359 15.0181 14.4355 12.0631 11.4972C9.10812 8.55901 10.1907 7.48257 10.1907 7.48257L10.4775 7.19738C11.1841 6.49484 11.2507 5.36691 10.6342 4.54348L9.37326 2.85908C8.61028 1.83992 7.13596 1.70529 6.26145 2.57483L4.69185 4.13552C4.25823 4.56668 3.96765 5.12559 4.00289 5.74561C4.09304 7.33182 4.81071 10.7447 8.81536 14.7266C13.0621 18.9492 17.0468 19.117 18.6763 18.9651C19.1917 18.9171 19.6399 18.6546 20.0011 18.2954L21.4217 16.883C22.3806 15.9295 22.1102 14.2949 20.8833 13.628L18.9728 12.5894C18.1672 12.1515 17.1858 12.2801 16.5562 12.9062Z" class="fill-gray-700"></path> </g></svg>
                            <input type="text" formControlName="phone" id="phone" placeholder="" class=" uppercase">
                        </div>
                    </div>
                    <div class="side-group">
                        <label for="email" class="side-group-label">Email</label>
                        <div class="side-group-input">
                            <svg class="ico" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12ZM16 12V13.5C16 14.8807 17.1193 16 18.5 16V16C19.8807 16 21 14.8807 21 13.5V12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21H16" class="stroke-gray-700" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
                            <input type="email" formControlName="email" id="email" placeholder="" class="">
                        </div>
                    </div>
                    <div class="side-group">
                        <label for="address" class="side-group-label">Adresse</label>
                        <div class="relative side-group-input">
                            <svg class="ico fill-gray-700 icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M512 1012.8c-253.6 0-511.2-54.4-511.2-158.4 0-92.8 198.4-131.2 283.2-143.2h3.2c12 0 22.4 8.8 24 20.8 0.8 6.4-0.8 12.8-4.8 17.6-4 4.8-9.6 8.8-16 9.6-176.8 25.6-242.4 72-242.4 96 0 44.8 180.8 110.4 463.2 110.4s463.2-65.6 463.2-110.4c0-24-66.4-70.4-244.8-96-6.4-0.8-12-4-16-9.6-4-4.8-5.6-11.2-4.8-17.6 1.6-12 12-20.8 24-20.8h3.2c85.6 12 285.6 50.4 285.6 143.2 0.8 103.2-256 158.4-509.6 158.4z m-16.8-169.6c-12-11.2-288.8-272.8-288.8-529.6 0-168 136.8-304.8 304.8-304.8S816 145.6 816 313.6c0 249.6-276.8 517.6-288.8 528.8l-16 16-16-15.2zM512 56.8c-141.6 0-256.8 115.2-256.8 256.8 0 200.8 196 416 256.8 477.6 61.6-63.2 257.6-282.4 257.6-477.6C768.8 172.8 653.6 56.8 512 56.8z m0 392.8c-80 0-144.8-64.8-144.8-144.8S432 160 512 160c80 0 144.8 64.8 144.8 144.8 0 80-64.8 144.8-144.8 144.8zM512 208c-53.6 0-96.8 43.2-96.8 96.8S458.4 401.6 512 401.6c53.6 0 96.8-43.2 96.8-96.8S564.8 208 512 208z" fill=""></path></g></svg>
                            <input type="text" (keyup)="addressInput()" formControlName="address" id="address" placeholder="" class="capitalize">
                            
                            @if(addresses().length > 0){
                            <div class="absolute top-full inset-x-0 max-h-64 overflow-y-auto border bg-white">
                                <ul class="flex flex-col p-1">
                                    @for(address of addresses(); track address.province){
                                        @for(localite of address.localites; track localite.nom){
                                            <li class="px-2 py-3 hover:bg-gray-100 pointer text-xs font-medium text-gray-800 font-sans" (click)="pickAddress(localite.nom + ', ' + address.province)">
                                                {{localite.nom.toLowerCase()}}, {{address.province.toLowerCase()}}, BF
                                            </li>
                                        }
                                    }
                                </ul>
                            </div>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--Filiation-->
        <div class="">
            <div class="side-form">
                <div class="side-title">
                    <label for="" class="">Filiation</label>
                </div>
                <div class="side-container">
                    <div class="side-group">
                        <label for="mother" class="side-group-label">Mère</label>
                        <div class="side-group-input">
                            <svg class="w-4 fill-gray-700" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path class="fill-gray-700" d="M256,265.308c73.252,0,132.644-59.391,132.644-132.654C388.644,59.412,329.252,0,256,0 c-73.262,0-132.643,59.412-132.643,132.654C123.357,205.917,182.738,265.308,256,265.308z"></path> <path class="fill-gray-700" d="M425.874,393.104c-5.922-35.474-36-84.509-57.552-107.465c-5.829-6.212-15.948-3.628-19.504-1.427 c-27.04,16.672-58.782,26.399-92.819,26.399c-34.036,0-65.778-9.727-92.818-26.399c-3.555-2.201-13.675-4.785-19.505,1.427 c-21.55,22.956-51.628,71.991-57.551,107.465C71.573,480.444,164.877,512,256,512C347.123,512,440.427,480.444,425.874,393.104z"></path> </g> </g></svg>
                            <input type="text" formControlName="mother" id="mother" placeholder="" class="capitalize">
                        </div>
                    </div>
                    <div class="side-group">
                        <label for="father" class="side-group-label">Père</label>
                        <div class="side-group-input">
                            <svg class="w-4 fill-gray-700" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path class="fill-gray-700" d="M256,265.308c73.252,0,132.644-59.391,132.644-132.654C388.644,59.412,329.252,0,256,0 c-73.262,0-132.643,59.412-132.643,132.654C123.357,205.917,182.738,265.308,256,265.308z"></path> <path class="fill-gray-700" d="M425.874,393.104c-5.922-35.474-36-84.509-57.552-107.465c-5.829-6.212-15.948-3.628-19.504-1.427 c-27.04,16.672-58.782,26.399-92.819,26.399c-34.036,0-65.778-9.727-92.818-26.399c-3.555-2.201-13.675-4.785-19.505,1.427 c-21.55,22.956-51.628,71.991-57.551,107.465C71.573,480.444,164.877,512,256,512C347.123,512,440.427,480.444,425.874,393.104z"></path> </g> </g></svg>
                            <input type="text" formControlName="father" id="father" placeholder="" class="capitalize">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--Info donneur-->
        <div class="">
            <div class="side-form">
                <div class="side-title">
                    <label for="" class="">Informations donneur</label>
                </div>
                <div class="side-container">
                    <div class="side-group">
                        <label for="donorNo" class="side-group-label">N° de donneur</label>
                        <div class="side-group-input">
                            <svg class="ico stroke-gray-700" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" version="1.1" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <rect height="4.5" width="3" y="1.75" x="3.25"></rect> <path d="m9.75 6.25h3m-3-4.5h1.5v4"></path> <rect height="4.5" width="3" y="9.75" x="9.75"></rect> <path d="m3.25 14.25h3m-3-4.5h1.5v4"></path> </g></svg>
                            <input type="text" formControlName="donorNo" id="donorNo" placeholder="" class="uppercase" readonly>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

@if(resumeWindow()){
<div class="fixed inset-0 z-40 bg-black/20 flex justify-center items-center">
    <div class="bg-white px-12 py-6 rounded-lg flex justify-between items-center">
        <div class="flex flex-col justify-center items-center gap-6">
            <div class="w-24 h-24 bg-gray-600 rounded-xl"></div>
            <div class="space-y-2">
                <p class="text-center text-gray-800 text-lg font-medium font-sans">Résumé Nouveau Donneur</p>
                <p class="text-xs font-sans text-gray-800">Veuillez vérifier les informations fournies</p>
            </div>
        </div>
        <div class="px-16 py-3 space-y-4">
            <div class="flex justify-between items-center gap-32 text-sm font-sans">
                <span class="text-gray-800 font-bold">Nom</span>
                <span class="text-gray-950 uppercase">{{donor().person.lastname}}</span>
            </div>
            <div class="flex justify-between items-center gap-32 text-sm font-sans">
                <span class="text-gray-800 font-bold">Prénom</span>
                <span class="text-gray-950 capitalize">{{donor().person.firstname}}</span>
            </div>
            <div class="flex justify-between items-center gap-32 text-sm font-sans">
                <span class="text-gray-800 font-bold">N° d'identification</span>
                <span class="text-gray-950 uppercase">{{donor().person.nin}} (<strong>CNIB</strong>)</span>
            </div>
            <div class="flex justify-between items-center gap-32 text-sm font-sans">
                <span class="text-gray-800 font-bold">Sexe</span>
                <span class="text-gray-950 uppercase">{{donor().person.gender}}</span>
            </div>
            <div class="flex justify-between items-center gap-32 text-sm font-sans">
                <span class="text-gray-800 font-bold">Date de naissance</span>
                <span class="text-gray-950">{{donor().person.birthDate | date: 'dd/MM/yyyy'}} (<strong>{{donor().person.old}} ans</strong>)</span>
            </div>
            <div class="flex justify-between items-center gap-32 text-sm font-sans">
                <span class="text-gray-800 font-bold">Lieu de naissance</span>
                <span class="text-gray-950 capitalize">{{donor().person.birthPlace}}</span>
            </div>
            <div class="flex justify-between items-center gap-32 text-sm font-sans">
                <span class="text-gray-800 font-bold">Qualité Civile</span>
                <span class="text-gray-950 capitalize">{{donor().civilQuality}}</span>
            </div>
            <div class="flex justify-between items-center gap-32 text-sm font-sans">
                <span class="text-gray-800 font-bold">Statut marital</span>
                <span class="text-gray-950 capitalize">{{donor().marital}}</span>
            </div>
            <hr class="w-[70%] mx-auto my-6 border-gray-400">
            <div class="flex justify-between items-center gap-32 text-sm font-sans">
                <span class="text-gray-800 font-bold">Téléphone</span>
                <span class="text-gray-950">(226) {{donor().person.phone}}</span>
            </div>
            <div class="flex justify-between items-center gap-32 text-sm font-sans">
                <span class="text-gray-800 font-bold">Email</span>
                <span class="text-gray-950">{{donor().person.email}}</span>
            </div>
            <div class="flex justify-between items-center gap-32 text-sm font-sans">
                <span class="text-gray-800 font-bold">Adresse</span>
                <span class="text-gray-950 capitalize">{{donor().person.address}}</span>
            </div>
            <hr class="w-[70%] mx-auto my-6 border-gray-400">
            <div class="flex justify-between items-center gap-32 text-sm font-sans">
                <span class="text-gray-800 font-bold">Numéro donneur</span>
                <span class="text-xs text-red-950 font-bold py-1 px-3 bg-red-200 rounded-lg capitalize">{{donor().donorNo}} B</span>
            </div>
        </div>
        <div class="flex flex-col items-center gap-6">
            <button (click)="save()" class="w-full bg-blue-50 text-blue-800 text-sm font-bold font-sans px-4 py-2 rounded-lg pointer">Enregistrer</button>
            <button class="w-full bg-yellow-50 text-yellow-800 text-sm font-bold font-sans px-4 py-2 rounded-lg pointer">En Attente</button>
            <button (click)="closeResumeWindow()" class="w-full hover:bg-gray-50 text-gray-800 text-sm font-bold font-sans px-4 py-2 rounded-lg pointer">Fermer</button>
        </div>
    </div>
</div>
}